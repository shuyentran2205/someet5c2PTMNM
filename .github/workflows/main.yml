name: Deploy to Somee via FTP

on:
  push:
    branches:
      - main  # Chạy khi có thay đổi trên nhánh 'main'

jobs:
  deploy:
    runs-on: ubuntu-latest  # Sử dụng runner Ubuntu

    steps:
      # Checkout mã nguồn từ repository
      - name: Checkout code
        uses: actions/checkout@v2  # Dùng action checkout chính thức của GitHub

      # Cấu hình deploy lên FTP
      - name: FTP deploy
        uses: SamKirkland/FTP-Deploy-Action@v4.3.6  # Phiên bản ổn định v4.3.6
        with:
          server: ${{ secrets.HOST_FTP }}  # Server FTP (lưu trong secrets)
          username: ${{ secrets.USER_FTP }}  # Tên người dùng FTP (lưu trong secrets)
          password: ${{ secrets.PASS_FTP }}  # Mật khẩu FTP (lưu trong secrets)
          local-dir: ./  # Thư mục chứa mã nguồn (thường là thư mục gốc của repo)
          server-dir: /path/to/your/remote/directory  # Đường dẫn trên server đích
          git-ftp-args: --insecure  # Tùy chọn thêm nếu server của bạn yêu cầu
